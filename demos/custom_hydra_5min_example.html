<!DOCTYPE html>
<!--<link rel="stylesheet" href="/adorn/adorn.css"/>-->
<!--<script src="/adorn/adorn.js" async></script>-->
<script src="client_ids.js"></script>

<title>hello( custom )</title>
<h1>hello( custom )</h1>
<p>Login to custom</p>

<button onclick="login('google',{response_type: 'code'});">Login Custom Provider (response_type=code)</button>

<button onclick="login('hydra', {response_type: 'token', page_uri: '../redirect.html'})">
	<!--// {-->
    <!--//   custom_provider: {-->
    <!--//     version: '2',-->
    <!--//     grant: 'http://lvh.me:4444/oauth/auth/token',-->
    <!--//     response_type: 'token id_token',-->
    <!--//   }-->
	<!--// }-->
Login Custom Provider (response_type:token id_token)</button>
<pre class="response"></pre>

<script class="pre">
function login(network, options){

	// By defining response type to code, the OAuth flow that will return a refresh token to be used to refresh the access token
	// However this will require the oauth_proxy server

	var hello_response = hello(network)
	hello_response.login(options, log);
}
</script>


<p>Initiate the library</p>

<!--<script src="../src/hello.js?d=" class="pre"></script>-->

<script>
  document.write(
    '<script src="../src/hello.js?v=' + Math.floor(Math.random() * 100) + '"\><\/script>'
	  +
	  '<script src="../src/modules/hydra.js?v=' + Math.floor(Math.random() * 100) + '"\><\/script>'
	  +
	  '<script src="../src/modules/google.js?v=' + Math.floor(Math.random() * 100) + '"\><\/script>'
  );
</script>
`
<script class="pre">
  var HYDRA_CLIENT_ID='8258977163a180391e9650cd701402f5f02ff143e6536d278fd004832b284395'

  hello.init({
		  hydra: HYDRA_CLIENT_ID
	  },
	  {
		  redirect_uri: '../redirect.html',
		  display: 'page',
		  // scope: 'friends'
	  });

  hello.init({
	  google : GOOGLE_CLIENT_ID
  },{
	  redirect_uri: '../redirect.html',
	  // scope: 'friends'
  });

</script>

<script>
function log(s){
	console.log('s is ', JSON.stringify(s, true, 2))
	document.body.querySelector('.response').appendChild(document.createTextNode(JSON.stringify(s, true, 2)));
}
</script>
